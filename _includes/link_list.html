<ul class="{{ include.class | default: 'links' }}">
  {% assign items  = include.items  | default: site.data.links.footer %}
  {% assign sprite = '/assets/icons.svg?v=2' | relative_url %}

  {% for item in items %}
    {% assign external = item.url contains '://' or item.url contains 'mailto:' %}
    {% assign icon_id  = item.icon | default: 'globe' %}

    {%- comment -%} Build href for internal links by hand: baseurl + path {%- endcomment -%}
    {% assign href = item.url %}
    {% unless external %}
      {%- unless href | slice: 0, 1 == '/' -%}
        {% assign href = '/' | append: href %}
      {%- endunless -%}
      {% assign href = site.baseurl | append: href %}  {# -> "/moxiecolor/newsletter/" #}
    {% endunless %}

    <li>
      <a
        href="{% if external %}{{ item.url }}{% else %}{{ href }}{% endif %}"
        class="link {{ icon_id }}"
        aria-label="{{ item.label }}"
        {% if external %}target="_blank" rel="noopener"{% endif %}
      >
        <svg class="icon" width="20" height="20" aria-hidden="true">
          <use href="{{ sprite }}#{{ icon_id }}"></use>
          <use xlink:href="{{ sprite }}#{{ icon_id }}"></use>
        </svg>

        {% assign show = include.show_text %}
        {% if show == false or show == 'false' %}
          <span class="sr-only">{{ item.label }}</span>
        {% else %}
          <span class="label">{{ item.label }}</span>
        {% endif %}
      </a>
    </li>
  {% endfor %}
</ul>
